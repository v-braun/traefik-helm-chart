# apiVersion: traefik.containo.us/v1alpha1
# kind: IngressRoute
# metadata:
#   name: {{ template "traefik.fullname" . }}-https-redirect
#   annotations:
#     helm.sh/hook: "post-install,post-upgrade"
#     {{- with .Values.ingressRoute.annotations }}
#     {{- toYaml . | nindent 4 }}
#     {{- end }}
#   labels:
#     app.kubernetes.io/name: {{ template "traefik.name" . }}
#     helm.sh/chart: {{ template "traefik.chart" . }}
#     app.kubernetes.io/managed-by: {{ .Release.Service }}
#     app.kubernetes.io/instance: {{ .Release.Name }}
# spec:
#   entryPoints:
#     {{- range $entryPoint := .Values.httpRedirectEntryPoint }}
#     - {{$entryPoint}}
#     {{- end }}  
#   routes:
#   - match: HostRegexp(`{any:.+}`)
#     kind: Rule
#     services:
#       - name: noop@internal
#         kind: TraefikService
#     middlewares:
#       - name: {{ template "traefik.fullname" . }}-https-redirect-middleware